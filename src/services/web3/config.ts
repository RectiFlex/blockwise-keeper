// Polygon Amoy testnet configuration
export const AMOY_RPC_URL = "https://rpc-amoy.polygon.technology";
export const AMOY_CHAIN_ID = 80002;

export const AMOY_NETWORK_CONFIG = {
  chainId: `0x${AMOY_CHAIN_ID.toString(16)}`,
  chainName: 'Polygon Amoy Testnet',
  nativeCurrency: {
    name: 'POL',
    symbol: 'POL',
    decimals: 18,
  },
  rpcUrls: [AMOY_RPC_URL],
  blockExplorerUrls: ['https://www.oklink.com/amoy'],
};

// Updated property management contract ABI
export const PROPERTY_CONTRACT_ABI = [
  {
    "inputs": [],
    "stateMutability": "nonpayable",
    "type": "constructor"
  },
  {
    "anonymous": false,
    "inputs": [
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "propertyId",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "string",
        "name": "description",
        "type": "string"
      }
    ],
    "name": "MaintenanceRecorded",
    "type": "event"
  },
  {
    "anonymous": false,
    "inputs": [
      {
        "indexed": false,
        "internalType": "uint256",
        "name": "propertyId",
        "type": "uint256"
      },
      {
        "indexed": false,
        "internalType": "address",
        "name": "owner",
        "type": "address"
      }
    ],
    "name": "PropertyRegistered",
    "type": "event"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "propertyId",
        "type": "uint256"
      }
    ],
    "name": "getMaintenanceRecords",
    "outputs": [
      {
        "components": [
          {
            "internalType": "uint256",
            "name": "date",
            "type": "uint256"
          },
          {
            "internalType": "string",
            "name": "description",
            "type": "string"
          },
          {
            "internalType": "uint256",
            "name": "cost",
            "type": "uint256"
          }
        ],
        "internalType": "struct PropertyManagement.Maintenance[]",
        "name": "",
        "type": "tuple[]"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "propertyId",
        "type": "uint256"
      }
    ],
    "name": "getPropertyDetails",
    "outputs": [
      {
        "internalType": "address",
        "name": "owner",
        "type": "address"
      },
      {
        "internalType": "string",
        "name": "description",
        "type": "string"
      },
      {
        "internalType": "string",
        "name": "location",
        "type": "string"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "string",
        "name": "description",
        "type": "string"
      },
      {
        "internalType": "string",
        "name": "location",
        "type": "string"
      }
    ],
    "name": "registerProperty",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  },
  {
    "inputs": [
      {
        "internalType": "uint256",
        "name": "propertyId",
        "type": "uint256"
      },
      {
        "internalType": "string",
        "name": "description",
        "type": "string"
      },
      {
        "internalType": "uint256",
        "name": "cost",
        "type": "uint256"
      }
    ],
    "name": "recordMaintenance",
    "outputs": [],
    "stateMutability": "nonpayable",
    "type": "function"
  }
];

// Contract bytecode for the new PropertyManagement contract
export const PROPERTY_BYTECODE = "0x608060405234801561001057600080fd5b50600080546001600160a01b031916331790556001600355610c0c806100366000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c80630fb5a6b41461005c578063141961bc146100715780632363c676146100a25780635b7633d0146100b5578063b15be2f4146100e8575b600080fd5b61006f61006a366004610866565b6100fb565b005b61008461007f366004610866565b61027c565b60405161009999989796959493929190610965565b60405180910390f35b61006f6100b0366004610866565b610438565b6100c86100c3366004610866565b61058f565b60405161009993929190610a1e565b61006f6100f6366004610a4c565b6105e9565b6000818152600160205260409020600201546001600160a01b0316331461013a5760405162461bcd60e51b815260040161013190610ab3565b60405180910390fd5b60008181526001602081905260409091208054909161015983610ad9565b80601f016020809104026020016040519081016040528092919081815260200182805461018590610ad9565b80156101d25780601f106101a7576101008083540402835291602001916101d2565b820191906000526020600020905b8154815290600101906020018083116101b557829003601f168201915b5050505050908060010180546101e790610ad9565b80601f016020809104026020016040519081016040528092919081815260200182805461021390610ad9565b80156102605780601f1061023557610100808354040283529160200191610260565b820191906000526020600020905b81548152906001019060200180831161024357829003601f168201915b5050505050908060020154908060030154905084565b60008181526001602081905260408220805460609291906102a790610b14565b80601f01602080910402602001519081016040528092919081815260200182805461027290610b14565b80156102bf5780601f10610294576101008083540402835291602001916102bf565b820191906000526020600020905b8154815290600101906020018083116102a257829003601f168201915b505050505090806001018054610274576101008083540402835291602001916102bf565b80156102f95780601f106102ce576101008083540402835291602001916102f9565b820191906000526020600020905b8154815290600101906020018083116102dc57829003601f168201915b505050505090806002015490806003015490508460405180610100016040528087815260200186815260200185815260200184815260200183815260200182815260200181815260200160405180602001604052806000815250815250600160008881526020019081526020016000206000820151816000015560208201518160010155604082015181600201556060820151816003015560808201518160040155608082015181600501556080820151816006015560a08201518160070190805190602001906103c3929190610b4f565b5050507f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0600354338360405161040493929190610bc5565b60405180910390a1600380549060006104249084906001016104f8565b90915550505050505050565b6000818152600160205260409020600201546001600160a01b031633146104715760405162461bcd60e51b815260040161013190610ab3565b60008181526001602081905260409091208054909161049083610ad9565b80601f01602080910402602001519081016040528092919081815260200182805461045b90610ad9565b80156104d85780601f106104ad576101008083540402835291602001916104d8565b820191906000526020600020905b8154815290600101906020018083116104bb57829003601f168201915b5050505050908060010180546104ed90610ad9565b80601f0160208091040260200191505b505050509050915091565b6000828152600160205260408120805483929061051390610ad9565b80601f016020809104026020016040519081016040528092919081815260200182805461053f90610ad9565b801561058c5780601f106105615761010080835404028352916020019161058c565b820191906000526020600020905b81548152906001019060200180831161056f57829003601f168201915b505050505081565b60008181526001602081905260408220805460609291906105ae90610ad9565b80601f01602080910402602001519081016040528092919081815260200182805461057990610ad9565b80156105f65780601f106105cb576101008083540402835291602001916105f6565b820191906000526020600020905b8154815290600101906020018083116105d957829003601f168201915b505050505090806001018054610274576101008083540402835291602001916105f6565b8015610630578060";